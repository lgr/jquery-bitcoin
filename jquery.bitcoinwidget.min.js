// Copyright 2012 Lukasz Gradzki, see: https://github.com/lgr/
(function($){var j="BitcoinButton";var k={_button_element:null,_counter_element:null,_trans_button_sublabel:{en:'ACCEPTED HERE',pl:'AKCEPTUJEMY',es:'SE ACEPTAN'},amount:'0.00',button:true,button_label:'bitcoin',button_sublabel:'',bitcoin_icon:true,counter:true,counter_align:'right',css:{button:{'min-width':80},counter:{'min-width':30}},lang:'en',onclick:function(e){},onload:function(e){}};var l={_update_amount:function(a,b){if(parseFloat(b)&&!isNaN(b))b+=' BTC';a.empty().append(b)},init:function(h){this.each(function(){var a=jQuery.extend(true,{},k);var b=$(this),data=b.data('BitcoinButton');if(data)a=data;if(h)$.extend(true,a,h);b.empty().addClass('jq-bitcoin-widget');if(a.button){var c=$('<span></span>').addClass('label').text(a.button_label);if(!a.button_sublabel)a.button_sublabel=a._trans_button_sublabel[a.lang];var d=$('<span></span>').addClass('sublabel').text(a.button_sublabel);a._button_element=$('<div></div>').addClass('button element').css(a.css.button).click(function(e){a.onclick.call(this,e)});if(a.bitcoin_icon){var f=$('<div></div>').addClass('icon');a._button_element.append(f)}a._button_element.append(c).append(d);b.append(a._button_element)}if(a.counter){var g=$('<span></span>');var u=$('<u></u>');var i=$('<i></i>');a._counter_element=$('<div></div>').addClass('counter element');a._counter_element.css(a.css.counter);$(this).BitcoinButton('_update_amount',g,a.amount);switch(a.counter_align){case'right':a._counter_element.append(i).append(u).append(g);b.append(a._counter_element);break;case'left':a._counter_element.addClass('left').append(g).append(u).append(i);b.prepend(a._counter_element);break;default:jQuery.error("'"+a.counter_align+"' isn't valid align option.")}}b.data('BitcoinButton',a);b.ready(function(e){a.onload.call(this,e)})});return this},getAmount:function(){var a=$(this),settings=a.data('BitcoinButton');return settings.amount},setAmount:function(a){var b=$(this),settings=b.data('BitcoinButton');settings.amount=a;if(settings.counter)$(this).BitcoinButton('_update_amount',settings._counter_element.find('span'),a);b.data('BitcoinButton',settings)},destroy:function(){return this.each(function(){var a=$(this);$.removeData(a,'BitcoinButton');a.unbind()})},get_default_settings:function(){return k}};$.fn.BitcoinButton=function(a){if(l[a]){return l[a].apply(this,Array.prototype.slice.call(arguments,1))}else if(typeof a==='object'||!a){return l.init.apply(this,arguments)}else{$.error('Method '+a+' does not exist on jQuery.BitcoinButton')}}})(jQuery);